# Solidity函数
[TOC]

### Solidity中的空值

在Solidity中不存在“未定义”或“空”值的概念，但是新声明的变量始终具有取决于其类型的默认值。要处理任何意外的值，您应该使用`revert`函数还原整个事务，或者返回带有第二个bool值表示成功的元组。

## 函数

### 参数/返回值

- 一个外部函数不能接受一个多维阵列作为输入参数。如果`ABIEncoderV2`通过添加到源文件来启用新功能，则此功能是可能的 。`pragma experimental ABIEncoderV2;`

- 内部功能可以接受的多维阵列，而无需启用该功能。
- `mapping`即使启用了该功能也无法作为返回项

### 函数可见性

```
function (<parameter types>) {internal|external|public|private} [pure|view|payable] [returns (<return types>)]
```

- `external`

外部功能是合同接口的一部分，其他合同或通过交易调用它们。外部函数f不能在内部调用（即`f()`不起作用，但`this.f()`可以起作用）。当外部函数接收大量数据时，它们有时会更有效率，因为数据不会从调用数据复制到内存中。

- `public`

公共功能是合同接口的一部分，可以在内部或通过消息进行调用

- `internal`

这些函数和状态变量只能在内部（即，从当前合同内部或从其衍生的合同内部）访问，而无需使用`this`

- `private`

私有功能和状态变量仅对于在定义的合同中可见，而在派生合同中不可见。

### 状态变量的可读性

- `pure` 

纯函数，保证不会读取和修改状态变量

- `view` 

查看函数，只能读取，不能修改状态变量

- `payable`

接收以太坊转账


### 特殊函数

-  `receive()`函数

```
receive() external payable {}
```

该函数不能有参数，不能返回任何东西，并且必须具有 可见性和状态可变性

- `fallback()`函数

```
fallback() external payable {}
```

该函数不能有参数，不能返回任何东西，并且必须具有可见性。如果没有其他功能与给定的功能签名相匹配，或者根本没有提供任何数据并且没有`receive()`函数，则在调用合同时执行该操作